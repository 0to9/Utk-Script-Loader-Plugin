// Instamine Blocks Of module
// DO NOT MODIFY THIS SCRIPT FILE
// @author utk003
// @version 12/17/20

#include instamine "../instamine.txt"

import java.util;

import org.bukkit;
import org.bukkit.block;
import org.bukkit.event.block;
import org.bukkit.event.player;

@PlayerInteract : {
    PlayerInteractEvent event = wrapper.getEvent();
    if (event.getAction() != Action.LEFT_CLICK_BLOCK)
        return;

    Block block = event.getClickedBlock();
    if (block == null)
        return;

    if (validTypes.contains(block.getType()))
        // require Haste 2 and Efficiency 5 on tool (the last two arguments)
        instamine::breakBlock(block, event.getPlayer(), validTools, 2, 5);
}

Set validTypes = new HashSet(), validTools = new HashSet();
@Init : {
    // All valid blocks --> Allow only blocks of materials for this module
    validTypes.add(Material.COAL_BLOCK);
    validTypes.add(Material.IRON_BLOCK);
    validTypes.add(Material.GOLD_BLOCK);
    validTypes.add(Material.REDSTONE_BLOCK);
    validTypes.add(Material.LAPIS_BLOCK);
    validTypes.add(Material.EMERALD_BLOCK);
    validTypes.add(Material.DIAMOND_BLOCK);
    validTypes.add(Material.NETHERITE_BLOCK);
    validTypes.add(Material.BONE_BLOCK);

    // All valid tools --> Only diamond and netherite pickaxes
    validTools.add(Material.DIAMOND_PICKAXE);
    validTools.add(Material.NETHERITE_PICKAXE);
}